{"ast":null,"code":"var _jsxFileName = \"/Users/anushrutshah/Documents/UPenn/Fall 2020/CIS550/Project/450-FinalProj/client/src/components/Dashboard.js\";\nimport React from 'react';\nimport '../style/Dashboard.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport PageNavbar from './PageNavbar';\nimport GenreButton from './GenreButton';\nimport DashboardMovieRow from './DashboardMovieRow';\nexport default class Dashboard extends React.Component {\n  constructor(props) {\n    super(props); // The state maintained by this React Component. This component maintains the list of genres,\n    // and a list of movies for a specified genre.\n\n    this.state = {\n      locationName: \"\",\n      locations: [],\n      genres: [],\n      movies: []\n    };\n    this.handleLocationNameChange = this.handleLocationNameChange.bind(this);\n    this.submitLocation = this.submitLocation.bind(this);\n  }\n\n  handleLocationNameChange(e) {\n    this.setState({\n      locationName: e.target.value\n    });\n  }\n\n  submitLocation() {\n    const params = new URLSearchParams({\n      street: this.state.locationName,\n      city: 'New York',\n      state: 'New York',\n      country: 'United States of America',\n      format: 'json'\n    });\n    fetch(`https://nominatim.openstreetmap.org/search?${params.toString()}`, {\n      method: 'GET'\n    }).then(res => res.json()).then(locationList => {\n      if (!locationList) return;\n      let addresses = locationList.map((locationObj, i) => /*#__PURE__*/React.createElement(DashboardMovieRow, {\n        name: locationObj.latitude,\n        lat: locationObj.lat,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 9\n        }\n      }));\n      locationList.map((location, i) => {\n        console.log(location);\n      });\n      this.setState({\n        locations: addresses\n      });\n    }).catch(err => console.log(err));\n  } // React function that is called when the page load.\n\n\n  componentDidMount() {// // Send an HTTP request to the server.\n    // fetch(\"http://localhost:8081/genres\", {\n    //   method: 'GET' // The type of HTTP request.\n    // })\n    //   .then(res => res.json()) // Convert the response data to a JSON.\n    //   .then(genreList => {\n    //     if (!genreList) return;\n    //     // Map each genreObj in genreList to an HTML element:\n    //     // A button which triggers the showMovies function for each genre.\n    //     let genreDivs = genreList.map((genreObj, i) =>\n    //       <GenreButton id={\"button-\" + genreObj.genre} onClick={() => this.showMovies(genreObj.genre)} genre={genreObj.genre} />\n    //     );\n    //     // Set the state of the genres list to the value returned by the HTTP response from the server.\n    //     this.setState({\n    //       genres: genreDivs\n    //     })\n    //   })\n    //   .catch(err => console.log(err))\t// Print the error if there is one.\n  }\n  /* ---- Q1b (Dashboard) ---- */\n\n  /* Set this.state.movies to a list of <DashboardMovieRow />'s. */\n  // showMovies(genre) {\n  //       // Send an HTTP request to the server.\n  //   fetch(`http://localhost:8081/genres/${genre}`, {\n  //     method: 'GET' // The type of HTTP request.\n  //   })\n  //     .then(res => res.json()) // Convert the response data to a JSON.\n  //     .then(movieList => {\n  //       if (!movieList) return;\n  //       let movieDivs = movieList.map((movieObj, i) =>\n  //         <DashboardMovieRow title={movieObj.title} rating={movieObj.rating} voteCount={movieObj.vote_count}/>\n  //       );\n  //       this.setState({\n  //         movies: movieDivs\n  //       })\n  //     })\n  //     .catch(err => console.log(err))\t// Print the error if there is one.\n  // }\n\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Dashboard\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(PageNavbar, {\n      active: \"dashboard\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container movies-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"jumbotron\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"h5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }\n    }, \"Trip Planner\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"location-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Enter a location\",\n      value: this.state.locationName,\n      onChange: this.handleLocationNameChange,\n      id: \"location-input\",\n      className: \"location-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 14\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      class: \"btn btn-primary\",\n      onClick: this.submitLocation,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 14\n      }\n    }, \"Search\"))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"jumbotron\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"movies-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"movies-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header-lg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 44\n      }\n    }, \"Name\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 41\n      }\n    }, \"Latitude\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 41\n      }\n    }, \"Longitude\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"results-container\",\n      id: \"results\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 15\n      }\n    }, this.state.locations)))));\n  }\n\n}","map":{"version":3,"sources":["/Users/anushrutshah/Documents/UPenn/Fall 2020/CIS550/Project/450-FinalProj/client/src/components/Dashboard.js"],"names":["React","PageNavbar","GenreButton","DashboardMovieRow","Dashboard","Component","constructor","props","state","locationName","locations","genres","movies","handleLocationNameChange","bind","submitLocation","e","setState","target","value","params","URLSearchParams","street","city","country","format","fetch","toString","method","then","res","json","locationList","addresses","map","locationObj","i","latitude","lat","location","console","log","catch","err","componentDidMount","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '../style/Dashboard.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport PageNavbar from './PageNavbar';\nimport GenreButton from './GenreButton';\nimport DashboardMovieRow from './DashboardMovieRow';\n\nexport default class Dashboard extends React.Component {\n  constructor(props) {\n    super(props);\n\n    // The state maintained by this React Component. This component maintains the list of genres,\n    // and a list of movies for a specified genre.\n    this.state = {\n      locationName: \"\",\n      locations: [],\n      genres: [],\n      movies: []\n    }\n\n    this.handleLocationNameChange = this.handleLocationNameChange.bind(this);\n    this.submitLocation = this.submitLocation.bind(this);\n  }\n\n  handleLocationNameChange(e) {\n    this.setState({\n      locationName: e.target.value\n    });\n  }\n\n  submitLocation() {\n    const params = new URLSearchParams({\n      street: this.state.locationName,\n      city: 'New York',\n      state: 'New York',\n      country: 'United States of America',\n      format: 'json'\n    })\n\n    fetch(`https://nominatim.openstreetmap.org/search?${params.toString()}`, {\n      method: 'GET'\n    })\n    .then(res => res.json())\n    .then(locationList => {\n      if (!locationList) return;\n      let addresses = locationList.map((locationObj, i) => \n        <DashboardMovieRow name={locationObj.latitude} lat={locationObj.lat} />,\n      );\n      locationList.map((location, i) => {\n        console.log(location);\n      } )\n      this.setState({\n        locations: addresses\n      })\n    })\n    .catch(err => console.log(err))\n  }\n\n  // React function that is called when the page load.\n  componentDidMount() {\n    // // Send an HTTP request to the server.\n    // fetch(\"http://localhost:8081/genres\", {\n    //   method: 'GET' // The type of HTTP request.\n    // })\n    //   .then(res => res.json()) // Convert the response data to a JSON.\n    //   .then(genreList => {\n    //     if (!genreList) return;\n    //     // Map each genreObj in genreList to an HTML element:\n    //     // A button which triggers the showMovies function for each genre.\n    //     let genreDivs = genreList.map((genreObj, i) =>\n    //       <GenreButton id={\"button-\" + genreObj.genre} onClick={() => this.showMovies(genreObj.genre)} genre={genreObj.genre} />\n    //     );\n\n    //     // Set the state of the genres list to the value returned by the HTTP response from the server.\n    //     this.setState({\n    //       genres: genreDivs\n    //     })\n    //   })\n    //   .catch(err => console.log(err))\t// Print the error if there is one.\n  }\n\n\n  /* ---- Q1b (Dashboard) ---- */\n  /* Set this.state.movies to a list of <DashboardMovieRow />'s. */\n  // showMovies(genre) {\n  //       // Send an HTTP request to the server.\n  //   fetch(`http://localhost:8081/genres/${genre}`, {\n  //     method: 'GET' // The type of HTTP request.\n  //   })\n  //     .then(res => res.json()) // Convert the response data to a JSON.\n  //     .then(movieList => {\n  //       if (!movieList) return;\n  //       let movieDivs = movieList.map((movieObj, i) =>\n  //         <DashboardMovieRow title={movieObj.title} rating={movieObj.rating} voteCount={movieObj.vote_count}/>\n  //       );\n  //       this.setState({\n  //         movies: movieDivs\n  //       })\n  //     })\n  //     .catch(err => console.log(err))\t// Print the error if there is one.\n\n  // }\n\n  render() {    \n    return (\n      <div className=\"Dashboard\">\n\n        <PageNavbar active=\"dashboard\" />\n\n        <br></br>\n        <div className=\"container movies-container\">\n          <div className=\"jumbotron\">\n          <div className=\"h5\">Trip Planner</div>\n           <div className=\"location-input\">\n             <input type=\"text\" placeholder=\"Enter a location\" value={this.state.locationName} onChange={this.handleLocationNameChange} id=\"location-input\" className=\"location-input\"/>\n             <button type=\"button\" class=\"btn btn-primary\" onClick={this.submitLocation}>Search</button>\n           </div>\n          </div>\n\n          <br></br>\n          <div className=\"jumbotron\">\n            <div className=\"movies-container\">\n              <div className=\"movies-header\">\n                <div className=\"header-lg\"><strong>Name</strong></div>\n                <div className=\"header\"><strong>Latitude</strong></div>\n                <div className=\"header\"><strong>Longitude</strong></div>\n              </div>\n              <div className=\"results-container\" id=\"results\">\n                {this.state.locations}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}"]},"metadata":{},"sourceType":"module"}